import React from 'react'
import TimerMessageBox from '../component/TimerMessageBox'
import { useState,useEffect } from 'react'
const Line = () => {
  const [messageBoxItemDetails, setmessageBoxItemDetails] = useState([]);
  const [FmessageBoxItemDetails, setFmessageBoxItemDetails] = useState([]);
  const [messageBoxItemDetails1, setmessageBoxItemDetails1] = useState([ {id:0,message_Position:  '260px',
    timerMessageBox: '4:44 PM',
    message_Title: `Most immediate`,
    message_Decription: `Description About what just happen`},{id:1,message_Position:  '170px',
      timerMessageBox: '4:44 PM',
      message_Title: `Yet Another`,
      message_Decription: `Chornologically the third in the timeline`},{id:2,message_Position:  '120px',
        timerMessageBox: '4:44 PM',
        message_Title: `Second event`,
        message_Decription: `Some more stuff is going on`},{id:3,message_Position:  '90px',
          timerMessageBox: '4:44 PM',
          message_Title: `Initial event`,
          message_Decription: `Some new development is taking place.`},{id:4,message_Position:  '30px',
            timerMessageBox: '4:44 PM',
            message_Title: `This is the Last event immediate`,
            message_Decription: `Thanks for sharing with US.`}]);

  // const [Position, setPosition] = useState(['260px'],['170px'],['']);
  // const [time, setTime] = React.useState(0);
  const formatAMPM = (date) => {
    var hours = date.getHours();
    var minutes = date.getMinutes();
    var ampm = hours >= 12 ? 'pm' : 'am';
    hours = hours % 12;
    hours = hours ? hours : 12;
    minutes = minutes < 10 ? '0' + minutes : minutes;
    var strTime = hours + ':' + minutes + ' ' + ampm;
    return strTime;
  }
  const addItem = () => {
    // setPosition(function(prev) { 
    // return prev,messageBoxItemDetails[messageBoxItemDetails.length]?.message_Position + 50});

    // const newItem = {
    //   message_Position:  Position,
    //   timerMessageBox: formatAMPM(new Date()),
    //   message_Title: `Most immediate`,
    //   message_Decription: `Description About what just happen`,
    // };
    // setmessageBoxItemDetails(prev => [...prev, newItem]);
    // if(messageBoxItemDetails.length>4){
    //   setmessageBoxItemDetails(messageBoxItemDetails.filter(item => item.id !== messageBoxItemDetails.length));
    // }
for(let k=0; k<messageBoxItemDetails1.length;k++)
{
 setTimeout(() => {
  setFmessageBoxItemDetails(prev=>[...prev,messageBoxItemDetails1[k]])
  }, 1000);
}
   
  }
  useEffect(() => {
   addItem();
},[])
  return (<><div className='line_center'>
     {FmessageBoxItemDetails.map((user,index) => (
        <><div id={'disc'+index} key={index}></div>
        <TimerMessageBox id={index} message_Position={user.message_Position} positionClass={index/2===0?'messageBoxLeft':'messageBoxRight'} 
        timerMessageBox={user.timerMessageBox} message_Title={user.message_Title+messageBoxItemDetails.length} 
        message_Decription={user.message_Decription+messageBoxItemDetails.length}></TimerMessageBox>
         </>
      ))}
  </div>
{/* <div>  
      <button className="button" onClick={addItem}>
      Add New Item
    </button> </div>   */}
    </>)
}

export default Line;
